<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Liste des Maladies</title>

    {% block stylesheets %}
        <!-- Favicons -->
        <link href="{{ asset('img/favicon.png') }}" rel="icon">
        <link href="{{ asset('img/apple-touch-icon.png') }}" rel="apple-touch-icon">

        <link href="{{ asset('vendor/fontawesome-free/css/all.min.css') }}" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">

        <!-- Custom styles for this template-->
        <link href="{{ asset('css/sb-admin-2.min.css') }}" rel="stylesheet">
    {% endblock %}

</head>

<body id="page-top">

<!-- Page Wrapper -->
<div id="wrapper">

    <!-- Sidebar -->
    <ul class="navbar-nav bg-gradient-primary2 sidebar sidebar-dark accordion" id="accordionSidebar">

        <!-- Sidebar - Brand -->
        <a class="sidebar-brand d-flex align-items-center justify-content-center">
            <div class="sidebar-brand-icon rotate-n-15">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-hospital" viewBox="0 0 16 16">
                    <path d="M8.5 5.034v1.1l.953-.55.5.867L9 7l.953.55-.5.866-.953-.55v1.1h-1v-1.1l-.953.55-.5-.866L7 7l-.953-.55.5-.866.953.55v-1.1zM13.25 9a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h.5a.25.25 0 0 0 .25-.25v-.5a.25.25 0 0 0-.25-.25zM13 11.25a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25zm.25 1.75a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h.5a.25.25 0 0 0 .25-.25v-.5a.25.25 0 0 0-.25-.25zm-11-4a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h.5A.25.25 0 0 0 3 9.75v-.5A.25.25 0 0 0 2.75 9zm0 2a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h.5a.25.25 0 0 0 .25-.25v-.5a.25.25 0 0 0-.25-.25zM2 13.25a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25z"/>
                    <path d="M5 1a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v1a1 1 0 0 1 1 1v4h3a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h3V3a1 1 0 0 1 1-1zm2 14h2v-3H7zm3 0h1V3H5v12h1v-3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1zm0-14H6v1h4zm2 7v7h3V8zm-8 7V8H1v7z"/>
                </svg>
            </div>
            <div class="sidebar-brand-text mx-3">Médecin</div>
        </a>

        <!-- Divider -->
        <hr class="sidebar-divider my-0">

        <!-- Nav Item - Dashboard -->
        <li class="nav-item ">
            <a class="nav-link" href="/{{ id }}">
                <i class="fas fa-fw fa-home"></i>
                <span>Accueil</span></a>
        </li>

        <!-- Nav Item - Charts -->
        <li class="nav-item">

            <a class="nav-link" href="{{ path('app_profil_med', {'id': id }) }}">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
                    <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6"/>
                </svg>
                <span>Profil</span></a>
        </li>

        <li class="nav-item">
            <a class="nav-link" href="{{ path('app_affiche_rendez4', {'id': id }) }}">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-card-list" viewBox="0 0 16 16">
                    <path d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2z"/>
                    <path d="M5 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 5 8m0-2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m0 5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m-1-5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0M4 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m0 2.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0"/>
                </svg>
                <span>Mes rendez-vous</span></a>
        </li>

        <li class="nav-item">
            <a class="nav-link" href="{{ path('ord_all', {'medecinId': id }) }}">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard2-pulse" viewBox="0 0 16 16">
                    <path d="M9.5 0a.5.5 0 0 1 .5.5.5.5 0 0 0 .5.5.5.5 0 0 1 .5.5V2a.5.5 0 0 1-.5.5h-5A.5.5 0 0 1 5 2v-.5a.5.5 0 0 1 .5-.5.5.5 0 0 0 .5-.5.5.5 0 0 1 .5-.5z"/>
                    <path d="M3 2.5a.5.5 0 0 1 .5-.5H4a.5.5 0 0 0 0-1h-.5A1.5 1.5 0 0 0 2 2.5v12A1.5 1.5 0 0 0 3.5 16h9a1.5 1.5 0 0 0 1.5-1.5v-12A1.5 1.5 0 0 0 12.5 1H12a.5.5 0 0 0 0 1h.5a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5z"/>
                    <path d="M9.979 5.356a.5.5 0 0 0-.968.04L7.92 10.49l-.94-3.135a.5.5 0 0 0-.926-.08L4.69 10H4.5a.5.5 0 0 0 0 1H5a.5.5 0 0 0 .447-.276l.936-1.873 1.138 3.793a.5.5 0 0 0 .968-.04L9.58 7.51l.94 3.135A.5.5 0 0 0 11 11h.5a.5.5 0 0 0 0-1h-.128z"/>
                </svg>
                <span>Mes ordonnances</span></a>
        </li>

        <li class="nav-item active">
            <a class="nav-link" href="{{ path('maladies_list', {'id': id }) }}">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-virus" viewBox="0 0 16 16">
                    <path d="M8 0a1 1 0 0 1 1 1v1.402c0 .511.677.693.933.25l.7-1.214a1 1 0 0 1 1.733 1l-.701 1.214c-.256.443.24.939.683.683l1.214-.701a1 1 0 0 1 1 1.732l-1.214.701c-.443.256-.262.933.25.933H15a1 1 0 1 1 0 2h-1.402c-.512 0-.693.677-.25.933l1.214.701a1 1 0 1 1-1 1.732l-1.214-.7c-.443-.257-.939.24-.683.682l.701 1.214a1 1 0 1 1-1.732 1l-.701-1.214c-.256-.443-.933-.262-.933.25V15a1 1 0 1 1-2 0v-1.402c0-.512-.677-.693-.933-.25l-.701 1.214a1 1 0 0 1-1.732-1l.7-1.214c.257-.443-.24-.939-.682-.683l-1.214.701a1 1 0 1 1-1-1.732l1.214-.701c.443-.256.261-.933-.25-.933H1a1 1 0 1 1 0-2h1.402c.511 0 .693-.677.25-.933l-1.214-.701a1 1 0 1 1 1-1.732l1.214.701c.443.256.939-.24.683-.683l-.701-1.214a1 1 0 0 1 1.732-1l.701 1.214c.256.443.933.261.933-.25V1a1 1 0 0 1 1-1m2 5a1 1 0 1 0-2 0 1 1 0 0 0 2 0M6 7a1 1 0 1 0-2 0 1 1 0 0 0 2 0m1 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2m5-3a1 1 0 1 0-2 0 1 1 0 0 0 2 0"/>
                </svg>
                <span>Les maladies</span></a>
        </li>

        <!-- Nav Item - Tables -->
        <li class="nav-item">
            <a id="yourButton3" class="nav-link" href="/">
                <i class="fas fa-fw fa-sign-out"></i>
                <span>Déconnecter</span></a>
        </li>

        <!-- Divider -->
        <hr class="sidebar-divider d-none d-md-block">

        <!-- Sidebar Toggler (Sidebar) -->
        <div class="text-center d-none d-md-inline">
            <button class="rounded-circle border-0" id="sidebarToggle"></button>
        </div>



    </ul>
    <!-- End of Sidebar -->

    <!-- Content Wrapper -->
    <div id="content-wrapper" class="d-flex flex-column">

        <!-- Main Content -->
        <div id="content">

            <!-- Begin Page Content -->
            <div class="container-fluid">
                <br>
                <h1 class="h3 mb-4 text-gray-800"><strong>Liste des Maladies</strong></h1>
                <!-- Search Bar -->
                <div class="row">

                    <div class="col-lg-8 mb-4">
                    </div>

                    <div class="col-lg-4 mb-4" >
                        <div class="input-group">
                            <input type="text" class="form-control" id="searchInput" placeholder="Chercher Maladie..." style="border-bottom-left-radius: 20px; border-top-left-radius: 20px;">
                            <div class="input-group-append">
                                <button class="btn btn-primary" type="button" id="searchButton" style="border-bottom-right-radius: 20px; border-top-right-radius: 20px;">Chercher</button>
                            </div>
                        </div>

                        <div id="searchResults"></div>

                        <script>
                            document.addEventListener('DOMContentLoaded', function() {
                                const searchInput = document.getElementById('searchInput');
                                const maladieCards = document.querySelectorAll('.card');

                                searchInput.addEventListener('input', function() {
                                    const searchTerm = searchInput.value.toLowerCase();

                                    maladieCards.forEach(card => {
                                        const maladieName = card.querySelector('.card-header').textContent.toLowerCase();
                                        if (maladieName.includes(searchTerm)) {
                                            card.style.display = 'block';
                                        } else {
                                            card.style.display = 'none';
                                        }
                                    });
                                });
                            });
                        </script>

                    </div>
                </div>

                <!-- End of Search Bar -->
                <a href="{{ path('add_maladie', {'id': id }) }}" onclick="history.back();" class="btn btn-primary" style="border-radius: 20px; margin-bottom: 15px; padding: 10px" >&larr; Nouvelle Maladie</a>

                <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-K+Z8ZdS5J9kZ9aD94GJ1JswupJsl5vOB+4r2XNCfFx0=" crossorigin="anonymous"></script>
                <div class="row">
                    {% if maladies %}
                        {% for maladie in maladies %}
                            <div class="col-lg-6 mb-4">
                                <div class="card" style="border-radius: 20px ; border-color:steelblue">
                                    <div class="card-header bg-white" style="border-radius: 20px">
                                        <div class="row align-items-center justify-content-between">
                                            <div class="col">
                                                <h5 class="mb-0">
                                                    <strong>{{ maladie.nom }}</strong>
                                                </h5>
                                            </div>
                                            <div class="col-auto">
                                                <button class="btn" type="button" onclick="toggleCollapse('{{ maladie.id }}')" style="padding: 0; background-color: transparent; outline: none; border: none; box-shadow: 0 0 0 0 transparent;">
                                                    <i class="fa-solid fa-circle-plus"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>

                                    <div id="collapse{{ maladie.id }}" class="collapse">
                                        <div class="card-body">
                                            <p><strong>Symptome :</strong> {{ maladie.symptome }}</p>
                                            <p><strong>Type :</strong> {{ maladie.type }}</p>
                                            <p><strong>Description :</strong> {{ maladie.description }}</p>
                                            <p><strong>Ajoutée Par Docteur :</strong> {{ maladie.getIdMedecin().prenom }}</p>
                                            <div class="form-group">
                                                <a href="{{ path('edit_maladie', {'id': maladie.id}) }}" class="btn btn-primary">Modifier</a>
                                                <a href="{{ path('delete_maladie', {'id': maladie.id}) }}" class="btn btn-danger">Supprimer</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                    {% else %}
                        <div class="container text-center">
                            <h1>Il n'y a aucune maladie.</h1>
                        </div>
                    {% endif %}

                </div>
                <script>
                    function toggleCollapse(id) {
                        $('#collapse' + id).slideToggle('slow');
                    }
                </script>
            </div>
        </div>
        {% block footer %}
            <!-- Footer -->
            <footer class="sticky-footer bg-white">
                <div class="container my-auto">
                    <div class="copyright text-center my-auto">
                        <span>Copyright &copy; TriM</span>
                    </div>
                </div>
            </footer>
        {% endblock %}

    </div>
</div>
{% block scripts %}
    <!-- Bootstrap core JavaScript-->
    <script src="{{ asset('vendor/jquery/jquery.min.js') }}"></script>
    <script src="{{ asset('vendor/bootstrap/js/bootstrap.bundle.min.js') }}"></script>

    <!-- Core plugin JavaScript-->
    <script src="{{ asset('vendor/jquery-easing/jquery.easing.min.js') }}"></script>

    <!-- Custom scripts for all pages-->
    <script src="{{ asset('js/sb-admin-2.min.js') }}"></script>
{% endblock %}

</body>

</html>